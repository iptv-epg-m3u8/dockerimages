version: '3.7'

services:
  jackett:
    image: linuxserver/jackett:latest
    restart: unless-stopped
    ports:
      - 9117:9117/tcp
    env_file: 
        - .env
        - ../global.env    
    hostname: liofal.synology.me
    volumes:
      - /volume1/docker/jackett/config:/config
      - /volume1/incoming:/downloads
    logging:
      driver: json-file
    deploy:
      resources:
        limits:
          memory: 128M
    networks:
      radarr:
  
  transmission:
    image: linuxserver/transmission:latest
    restart: unless-stopped
    ports:
      - 9091:9091/tcp
      - 51413:51413/tcp
    env_file: 
        - .env
        - ../global.env    
    hostname: liofal.synology.me
    volumes:
      - /volume1/docker/transmission/config2:/config
      - /volume1/radarr:/downloads
      - /volume1/incoming:/watch
    logging:
      driver: json-file
    deploy:
      resources:
        limits:
          memory: 128M
    depends_on: 
      - jackett
    links: 
      - jackett
    networks:
      radarr:
  
  radarr:
    image: linuxserver/radarr:latest
    restart: unless-stopped
    ports:
      - 7878:7878/tcp
    env_file: 
        - .env
        - ../global.env    
    hostname: liofal.synology.me
    volumes:
      - /volume1/docker/radarr/config:/config
      - /volume1/radarr:/downloads
      - /volume1/movies:/movies
    logging:
      driver: json-file
    deploy:
      resources:
        limits:
          memory: 128M
    depends_on: 
      - transmission
    links: 
      - transmission
    networks:
      radarr:
  
networks:
  radarr: